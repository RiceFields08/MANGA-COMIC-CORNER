<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Manga Comic Corner Rating</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .star-btn:hover:not(:disabled) { transform: scale(1.25); }
    .star-btn.selected { transform: scale(1.25); }
    @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
    .animate-bounce { animation: bounce 0.6s infinite; }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-green-100 via-yellow-50 to-blue-100 flex items-center justify-center p-4">
  <div class="relative">
    <div class="absolute -top-16 -left-16 w-32 h-32 bg-green-200/60 rounded-full blur-3xl"></div>
    <div class="absolute -bottom-16 -right-16 w-32 h-32 bg-blue-200/60 rounded-full blur-3xl"></div>
    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-40 h-40 bg-yellow-200/40 rounded-full blur-3xl"></div>
    
    <div class="relative bg-white/70 backdrop-blur-xl rounded-3xl p-8 shadow-xl border border-white/50 max-w-md w-full">
      <div class="text-center mb-8">
        <span class="text-5xl block mb-3">ðŸ“š</span>
        <h1 class="text-3xl font-bold bg-gradient-to-r from-green-500 via-yellow-500 to-blue-500 bg-clip-text text-transparent mb-2">Manga Comic Corner</h1>
        <p class="text-slate-500 text-sm">Rate your experience!</p>
      </div>

      <div id="stars" class="flex justify-center gap-6 mb-6"></div>
      <div id="label" class="text-center mb-6 h-6 text-slate-600 font-semibold text-lg"></div>
      <button id="submitBtn" class="w-full py-3 rounded-xl font-semibold bg-slate-200 text-slate-400 cursor-not-allowed transition-all duration-300">Submit Rating</button>

      <div id="thankYou" class="hidden absolute inset-0 flex items-center justify-center bg-white/90 rounded-3xl backdrop-blur-sm">
        <div class="text-center">
          <span class="text-6xl mb-4 block animate-bounce">ðŸŽ‰</span>
          <p class="text-2xl font-bold text-slate-700">Thank You!</p>
          <p class="text-slate-500">Your rating has been recorded</p>
        </div>
      </div>

      <div class="mt-8 pt-6 border-t border-slate-200/70">
        <div class="flex justify-between items-center mb-4">
          <div class="text-center">
            <p id="avgRating" class="text-3xl font-bold text-slate-700">0.0</p>
            <p class="text-xs text-slate-400">Average</p>
          </div>
          <div id="avgStars" class="flex items-center gap-1"></div>
          <div class="text-center">
            <p id="totalVotes" class="text-3xl font-bold text-slate-700">0</p>
            <p class="text-xs text-slate-400">Votes</p>
          </div>
        </div>
        <div id="breakdown" class="space-y-3"></div>
      </div>
      <p class="text-center text-slate-400 text-xs mt-6">Thank you for visiting! ðŸ’šðŸ’›ðŸ’™</p>
    </div>
  </div>

  <script>
    const colors = {
      1: { fill: '#86efac', stroke: '#4ade80', bg: 'from-green-300 to-green-400' },
      2: { fill: '#fde047', stroke: '#facc15', bg: 'from-yellow-300 to-yellow-400' },
      3: { fill: '#93c5fd', stroke: '#60a5fa', bg: 'from-blue-300 to-blue-400' }
    };
    const labels = ['', 'Okay', 'Good', 'Amazing!'];
    let ratings = { 1: 0, 2: 0, 3: 0 };
    let selected = 0, hasVoted = false;

    function star(num, active, size = 48) {
      const c = colors[num];
      return `<svg width="${size}" height="${size}" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" fill="${active ? c.fill : '#e2e8f0'}" stroke="${active ? c.stroke : '#cbd5e1'}" stroke-width="1.5"/></svg>`;
    }

    function smallStar(filled) {
      return `<svg width="24" height="24" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" fill="${filled ? '#fde047' : '#e2e8f0'}" stroke="${filled ? '#facc15' : '#cbd5e1'}" stroke-width="1"/></svg>`;
    }

    function render() {
      const starsEl = document.getElementById('stars');
      starsEl.innerHTML = [1,2,3].map(n => 
        `<button class="star-btn transition-all duration-200 ${selected === n ? 'selected' : ''}" data-star="${n}" ${hasVoted ? 'disabled' : ''}>${star(n, n <= selected, 56)}</button>`
      ).join('');

      document.getElementById('label').textContent = selected ? labels[selected] : '';
      
      const btn = document.getElementById('submitBtn');
      if (hasVoted) {
        btn.textContent = 'Vote Again';
        btn.className = 'w-full py-3 rounded-xl font-semibold bg-slate-200 text-slate-600 hover:bg-slate-300 transition-all cursor-pointer';
      } else {
        btn.textContent = 'Submit Rating';
        btn.className = selected ? 'w-full py-3 rounded-xl font-semibold bg-gradient-to-r from-green-400 via-yellow-400 to-blue-400 text-white hover:from-green-500 hover:via-yellow-500 hover:to-blue-500 shadow-lg transition-all cursor-pointer' : 'w-full py-3 rounded-xl font-semibold bg-slate-200 text-slate-400 cursor-not-allowed transition-all';
      }

      const total = Object.values(ratings).reduce((a,b) => a+b, 0);
      const avg = total ? (Object.entries(ratings).reduce((s,[k,v]) => s + k*v, 0) / total).toFixed(1) : '0.0';
      document.getElementById('avgRating').textContent = avg;
      document.getElementById('totalVotes').textContent = total;
      document.getElementById('avgStars').innerHTML = [1,2,3].map(s => smallStar(s <= Math.round(avg))).join('');
      
      document.getElementById('breakdown').innerHTML = [3,2,1].map(n => {
        const pct = total ? (ratings[n]/total)*100 : 0;
        return `<div class="flex items-center gap-3">${star(n, true, 24)}<div class="flex-1 h-3 bg-slate-100 rounded-full overflow-hidden"><div class="h-full bg-gradient-to-r ${colors[n].bg} rounded-full transition-all duration-500" style="width:${pct}%"></div></div><span class="text-slate-500 text-sm w-8 text-right">${ratings[n]}</span></div>`;
      }).join('');
    }

    document.getElementById('stars').addEventListener('click', e => {
      const btn = e.target.closest('[data-star]');
      if (btn && !hasVoted) { selected = +btn.dataset.star; render(); }
    });

    document.getElementById('submitBtn').addEventListener('click', () => {
      if (hasVoted) { hasVoted = false; selected = 0; render(); return; }
      if (selected) {
        ratings[selected]++;
        hasVoted = true;
        render();
        document.getElementById('thankYou').classList.remove('hidden');
        setTimeout(() => document.getElementById('thankYou').classList.add('hidden'), 3000);
      }
    });

    render();
  </script>
</body>
</html>